<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
	<title>Exercise 2</title>
</head>
<body>
<h1>Exercise 2: Practice debugging using a test framework</h1>
 
Reminder:  Look at 
&lt;<A HREF="index.html">the index page</a>&gt; 
for updates or corrections!
 
<P> 
Goal: Get a feel for how tests can help you develop better code faster
<P>
First, create a local copy of the exercise files.

<CODE><PRE>
   cd
   ./csc_get exercise2.tar
   tar xf exercise2.tar
   cd exercise2
   source setup.sh
</PRE></CODE>
 
The program is meant to count the numbers that are both squares and cubes within a range. 
I've started development for you by sketching out the class <code>FindVals</code>, 
along with a test suite in the <code>TestFindVals</code> class.
<P>
<code>numInRange</code> is the primary method this class will provide to users; 
that's the one that people will invoke.  
There are two internal service methods for calculating whether a number is a square (<code>isSquare</code>) 
and a cube (<code>isCube</code>).
Those were created in company with some tests. 
<P> 
You're picking up these classes in the midst of development.  
The <code>isSquare</code> 
routine has been improved to the point where it passes its tests. 
Unfortunately, a bug fix we made in <code>isSquare</code>
was accidentally not made in <code>isCube</code>, so <code>isCube</code> is not passing its tests.
<P> 
To compile and run the test suite:

<CODE><PRE>
  ./build
  java TestFindVals g
</PRE></CODE>
 
To get some experience with debugging using a test suite, please
 
<OL>
<LI>Run the tests, and fix the failures in <code>isCube</code>.  
Add some more tests if there are cases you think should be checked.
 
<LI>There are some tests of the important <code>numInRange</code> function further on in the test class, 
but some of their logic hasn't been written yet. 
(Hint: There are still one or more bugs in the main routines that haven't yet been found.)
Add the appropriate test logic, based on the description in each test.  
Then get the <code>FindVals</code> class to pass them.
 
<LI>Add some more tests of the search range, convincing yourself that you've really got a functioning <code>FindVals</code> class.
</OL> 
<P>
Hints:
 
<UL>
<LI>Just before I turned this development project over to you, I added a "floor" to the isSquare calculation.  Take a look at the failing <code>isCube</code>, and note that it's different.

<li>For more information on Java math routines like floor(...), sqrt(...), etc
please see the 
<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Math.html">Math class doc page</a>.

 
<LI>Sometimes the CPU will compute the square-root of a number like 9 and get 2.999999.  "floor" and "round" treat that result differently. Which one gives the answer you want here? (These types of problems are really, really hard to see in somebody else's code!)

</UL> 
</body>
</html>
