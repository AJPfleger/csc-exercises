<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
	<title>Exercise P</title>
</head>
<body>
<h1>Exercise P: Experiment with PyUnit</h1>
 
Reminder: If there's been a correction to this exercise posted, 
update your local copy via
<A HREF="index.html#corrections">these instructions</a>
before proceeding.
 
<P>
Goal: Gain familiarity with PyUnit

<p>
PyUnit is a unit test framework for Python code.  
PyUnit is the familiar name for the Python unittest built-in module.
As such, it cleanly integrates
with the Python module system.
In this exercise, we're going to focus on writing and running simple PyUnit tests.

<p>
Start by expanding a pre-built directory that we've created for use
with the CSC machines: 

<CODE><PRE>
    cd
    ./csc_get exerciseP.tar
    tar xf exerciseP.tar
    cd exerciseP
    source setup.sh
</PRE></CODE>

Let's run a very simple set of tests for the existing 
Python string routines:

<CODE><PRE>
    python -m unittest TestStringMethods
</PRE></CODE>

This should print three dots while it runs, then tell you something like "Ran 3 tests in 0.000s"
<p>
Take a look at the file.  You'll see individual methods that run those three tests. 
They're contained in a class that inherits from <code>unittest.TestCase</code>,
which tells Python that these are tests.  And the lines at the end cause the
test to be run when the file is loaded and run.
<p>
There's a line at the bottom of the 2nd test that's been commented out.
Un-comment that and run the tests again to see what a failed test looks like.
You should see an "F" instead of a period, plus information about what failed and where.
<p>
You can also use module, class and method syntax to run just one specific test method:
<CODE><PRE>
    python -m unittest TestStringMethods.TestStringMethods.test_split
</PRE></CODE>
This can be really useful if you've just fixed a problem and want to return the specific 
test that had caught it.

<h3>Testing a module</h3>

For large projects, you might want to have your tests separate from your operational code.
Take a look at the SampleClass.py, which is a single-file module that has four methods, all very simple.
See if that all looks OK.  
<P>
Even though it's very simple, it would be good to test it, 
so the TestSampleClass.py test class was prepared.
To run it, 
<CODE><PRE>
    python TestSampleClass.py
</PRE></CODE>

It will fail.  Find out what's going wrong and fix it so the tests run cleanly.


<h2>For more information</h2>

For more information on PyUnit, please see:
<ul>
<li>
The 
<a href="http://pyunit.sourceforge.net/pyunit.html">PyUnit home page</a>.

<li>The
"<a href="http://pyunit.sourceforge.net/pyunit.html#USING">Using PyUnit</a>" section of the manual

<li>
"<a href="https://docs.python.org/3.6/library/unittest.html">Section 26.4 of the Python manual</a>"
covers the integration with Python.

</ul>

</body>
</html>
