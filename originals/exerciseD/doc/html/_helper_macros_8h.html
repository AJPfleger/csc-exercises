<html>
<head>
<title>
CppUnit - The Unit Testing Library
</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>

<body bgcolor="#ffffff"> 
<table width="100%">
  <tr>
    <td width="40%" align="left" valign="center">
      <a href="http://sourceforge.net/projects/cppunit">
      CppUnit project page
      </a>
    </td>
    <td>
      <a href="FAQ">FAQ</a>
    </td>
    <td width="40%" align="right" valign="center">
      <a href="http://cppunit.sourceforge.net">CppUnit home page</a>
    </td>
  </tr>
</table>

<hr>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>HelperMacros.h File Reference</h1>Macros intended to ease the definition of test suites. <a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_test_caller_8h-source.html">cppunit/TestCaller.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_test_suite_8h-source.html">cppunit/TestSuite.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_auto_register_suite_8h-source.html">cppunit/extensions/AutoRegisterSuite.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_exception_test_case_decorator_8h-source.html">cppunit/extensions/ExceptionTestCaseDecorator.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_test_fixture_factory_8h-source.html">cppunit/extensions/TestFixtureFactory.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_test_namer_8h-source.html">cppunit/extensions/TestNamer.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="_test_suite_builder_context_8h-source.html">cppunit/extensions/TestSuiteBuilderContext.h</a>&gt;</code><br>
<code>#include &lt;memory&gt;</code><br>

<p>
Include dependency graph for HelperMacros.h:<p><center><img src="_helper_macros_8h__incl.png" border="0" usemap="#HelperMacros.h_map" alt=""></center>
<map name="HelperMacros.h_map">
<area href="_test_caller_8h.html" shape="rect" coords="271,5,417,35" alt="">
<area href="_test_suite_8h.html" shape="rect" coords="275,59,413,88" alt="">
<area href="_auto_register_suite_8h.html" shape="rect" coords="209,112,479,141" alt="">
<area href="_exception_test_case_decorator_8h.html" shape="rect" coords="173,165,515,195" alt="">
<area href="_test_fixture_factory_8h.html" shape="rect" coords="209,219,479,248" alt="">
<area href="_test_namer_8h.html" shape="rect" coords="232,272,456,301" alt="">
<area href="_test_suite_builder_context_8h.html" shape="rect" coords="192,325,496,355" alt="">
</map>

<p>
<a href="_helper_macros_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#g06cd60b53af73cd25179e89dd5efa555">CPPUNIT_TEST_SUITE</a>(ATestFixtureType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begin test suite.  <a href="group___writing_test_fixture.html#g06cd60b53af73cd25179e89dd5efa555"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#g0f81f75a98666723eba22895eda56fea">CPPUNIT_TEST_SUB_SUITE</a>(ATestFixtureType, ASuperClass)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begin test suite (includes parent suite).  <a href="group___writing_test_fixture.html#g0f81f75a98666723eba22895eda56fea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#g93b59c00afa6d8d7fb2060e95ce4db64">CPPUNIT_TEST_SUITE_END</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End declaration of the test suite.  <a href="group___writing_test_fixture.html#g93b59c00afa6d8d7fb2060e95ce4db64"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#gdaed2da31784aa8920fdde2accf60af3">CPPUNIT_TEST_SUITE_END_ABSTRACT</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End declaration of an abstract test suite.  <a href="group___writing_test_fixture.html#gdaed2da31784aa8920fdde2accf60af3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#gd0e7943273a8a553c7ebf9fed6af7396">CPPUNIT_TEST_SUITE_ADD_TEST</a>(test)&nbsp;&nbsp;&nbsp;context.addTest( test )</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a test to the suite (for custom test macro).  <a href="group___writing_test_fixture.html#gd0e7943273a8a553c7ebf9fed6af7396"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289">CPPUNIT_TEST</a>(testMethod)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a method to the suite.  <a href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#g697587e07c45047016bbbf6331e3e981">CPPUNIT_TEST_EXCEPTION</a>(testMethod, ExceptionType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a test which fail if the specified exception is not caught.  <a href="group___writing_test_fixture.html#g697587e07c45047016bbbf6331e3e981"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#gd121a32a1dfa4b4ed7fe3c0c895135a9">CPPUNIT_TEST_FAIL</a>(testMethod)&nbsp;&nbsp;&nbsp;CPPUNIT_TEST_EXCEPTION( testMethod, CPPUNIT_NS::Exception )</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a test case which is excepted to fail.  <a href="group___writing_test_fixture.html#gd121a32a1dfa4b4ed7fe3c0c895135a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#gbbe2cf799210392ecedb84fc78cd8355">CPPUNIT_TEST_SUITE_ADD_CUSTOM_TESTS</a>(testAdderMethod)&nbsp;&nbsp;&nbsp;testAdderMethod( context )</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds some custom test cases.  <a href="group___writing_test_fixture.html#gbbe2cf799210392ecedb84fc78cd8355"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___writing_test_fixture.html#g4d1900b24b96766d1f1f732c79d54f36">CPPUNIT_TEST_SUITE_PROPERTY</a>(APropertyKey, APropertyValue)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a property to the test suite builder context.  <a href="group___writing_test_fixture.html#g4d1900b24b96766d1f1f732c79d54f36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___creating_test_suite.html#g6f8ed441b323364b16f7eaa632bc71df">CPPUNIT_TEST_SUITE_REGISTRATION</a>(ATestFixtureType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___creating_test_suite.html#g70ebde11af7df6463f445148600df354">CPPUNIT_TEST_SUITE_NAMED_REGISTRATION</a>(ATestFixtureType, suiteName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds the specified fixture suite to the specified registry suite.  <a href="group___creating_test_suite.html#g70ebde11af7df6463f445148600df354"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___creating_test_suite.html#g2c4343763a8ddbb7add85a65f6f10adf">CPPUNIT_REGISTRY_ADD</a>(which, to)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___creating_test_suite.html#gb7c7d64d513d7369a8bfa512ddc61bee">CPPUNIT_REGISTRY_ADD_TO_DEFAULT</a>(which)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Macros intended to ease the definition of test suites. 
<p>
The macros <a class="el" href="group___writing_test_fixture.html#g06cd60b53af73cd25179e89dd5efa555">CPPUNIT_TEST_SUITE()</a>, <a class="el" href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289">CPPUNIT_TEST()</a>, and <a class="el" href="group___writing_test_fixture.html#g93b59c00afa6d8d7fb2060e95ce4db64">CPPUNIT_TEST_SUITE_END()</a> are designed to facilitate easy creation of a test suite. For example,<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="_helper_macros_8h.html">cppunit/extensions/HelperMacros.h</a>&gt;</span>
 <span class="keyword">class </span>MyTest : <span class="keyword">public</span> CppUnit::<a class="code" href="class_test_fixture.html">TestFixture</a> {
   <a class="code" href="group___writing_test_fixture.html#g06cd60b53af73cd25179e89dd5efa555">CPPUNIT_TEST_SUITE</a>( MyTest );
   <a class="code" href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289">CPPUNIT_TEST</a>( testEquality );
   <a class="code" href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289">CPPUNIT_TEST</a>( testSetName );
   <a class="code" href="group___writing_test_fixture.html#g93b59c00afa6d8d7fb2060e95ce4db64">CPPUNIT_TEST_SUITE_END</a>();
 <span class="keyword">public</span>:
   <span class="keywordtype">void</span> testEquality();
   <span class="keywordtype">void</span> testSetName();
 };
</pre></div><p>
The effect of these macros is to define two methods in the class MyTest. The first method is an auxiliary function named registerTests that you will not need to call directly. The second function <div class="fragment"><pre class="fragment"> <span class="keyword">static</span> CppUnit::TestSuite *suite()
</pre></div> returns a pointer to the suite of tests defined by the <a class="el" href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289">CPPUNIT_TEST()</a> macros.<p>
Rather than invoking suite() directly, the macro <a class="el" href="group___creating_test_suite.html#g6f8ed441b323364b16f7eaa632bc71df">CPPUNIT_TEST_SUITE_REGISTRATION()</a> is used to create a static variable that automatically registers its test suite in a global registry. The registry yields a <a class="el" href="class_test.html">Test</a> instance containing all the registered suites. <div class="fragment"><pre class="fragment"> <a class="code" href="group___creating_test_suite.html#g6f8ed441b323364b16f7eaa632bc71df">CPPUNIT_TEST_SUITE_REGISTRATION</a>( MyTest );
 CppUnit::Test* tp =
   CppUnit::TestFactoryRegistry::getRegistry().makeTest();
</pre></div><p>
The test suite macros can even be used with templated test classes. For example:<p>
<div class="fragment"><pre class="fragment"> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CharType&gt;
 <span class="keyword">class </span>StringTest : <span class="keyword">public</span> CppUnit::<a class="code" href="class_test_fixture.html">TestFixture</a> {
   <a class="code" href="group___writing_test_fixture.html#g06cd60b53af73cd25179e89dd5efa555">CPPUNIT_TEST_SUITE</a>( StringTest );
   <a class="code" href="group___writing_test_fixture.html#gf6784712eb07a19b5e0dcb046591c289">CPPUNIT_TEST</a>( testAppend );
   <a class="code" href="group___writing_test_fixture.html#g93b59c00afa6d8d7fb2060e95ce4db64">CPPUNIT_TEST_SUITE_END</a>();
 <span class="keyword">public</span>:  
   ...
 };
</pre></div><p>
You need to add in an implementation file:<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="group___creating_test_suite.html#g6f8ed441b323364b16f7eaa632bc71df">CPPUNIT_TEST_SUITE_REGISTRATION</a>( StringTest&lt;char&gt; );
 <a class="code" href="group___creating_test_suite.html#g6f8ed441b323364b16f7eaa632bc71df">CPPUNIT_TEST_SUITE_REGISTRATION</a>( StringTest&lt;wchar_t&gt; );
</pre></div> <hr>
<table width="100%">
  <tr>
    <td width="10%" align="left" valign="center">
      <a href="http://sourceforge.net"> 
      <img
      src="http://sourceforge.net/sflogo.php?group_id=11795"
      width="88" height="31" border="0" alt="SourceForge Logo"></a>
    </td>
    <td width="20%" align="left" valign="center">
      hosts this site.
    </td>
    <td>
    </td>
    <td align="right" valign="center">
      Send comments to:<br>
      <a href="mailto:cppunit-devel@lists.sourceforge.net">CppUnit Developers</a>
    </td>
  </tr>
</table>

</body> 
</html>
